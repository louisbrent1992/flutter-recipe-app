<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Data Deletion Request - RecipEase</title>
		<meta
			name="description"
			content="Request deletion of your RecipEase account and personal data"
		/>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
					Oxygen, Ubuntu, Cantarell, sans-serif;
				line-height: 1.6;
				color: #333;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				min-height: 100vh;
				padding: 20px;
			}

			.container {
				max-width: 800px;
				margin: 0 auto;
				background: white;
				border-radius: 16px;
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
				overflow: hidden;
			}

			.header {
				background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
				color: white;
				padding: 40px 30px;
				text-align: center;
			}

			.logo-container {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 15px;
				margin-bottom: 10px;
			}

			.logo {
				width: 60px;
				height: 60px;
				object-fit: contain;
				filter: brightness(0) invert(1); /* Makes logo white */
			}

			.header h1 {
				font-size: 2.5rem;
				margin: 0;
				font-weight: 700;
			}

			.header p {
				font-size: 1.1rem;
				opacity: 0.9;
			}

			.content {
				padding: 40px 30px;
			}

			.section {
				margin-bottom: 40px;
			}

			.section h2 {
				color: #2c3e50;
				font-size: 1.5rem;
				margin-bottom: 20px;
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.icon {
				width: 24px;
				height: 24px;
				fill: currentColor;
			}

			.data-list {
				background: #f8f9fa;
				border-radius: 12px;
				padding: 25px;
				margin: 20px 0;
			}

			.data-list h3 {
				color: #e74c3c;
				margin-bottom: 15px;
				font-size: 1.2rem;
			}

			.data-list ul {
				list-style: none;
				padding: 0;
			}

			.data-list li {
				padding: 8px 0;
				border-bottom: 1px solid #e9ecef;
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.data-list li:last-child {
				border-bottom: none;
			}

			.data-list li::before {
				content: "üóëÔ∏è";
				font-size: 16px;
			}

			.warning-box {
				background: #fff3cd;
				border: 2px solid #ffc107;
				border-radius: 12px;
				padding: 20px;
				margin: 20px 0;
			}

			.warning-box h3 {
				color: #856404;
				margin-bottom: 10px;
				display: flex;
				align-items: center;
				gap: 8px;
			}

			.warning-box p {
				color: #856404;
				font-weight: 500;
			}

			.form-container {
				background: #f8f9fa;
				border-radius: 12px;
				padding: 30px;
				margin: 30px 0;
			}

			.form-group {
				margin-bottom: 20px;
			}

			.form-group label {
				display: block;
				margin-bottom: 8px;
				font-weight: 600;
				color: #2c3e50;
			}

			.form-group input,
			.form-group textarea {
				width: 100%;
				padding: 12px 16px;
				border: 2px solid #e9ecef;
				border-radius: 8px;
				font-size: 16px;
				transition: border-color 0.3s ease;
			}

			.form-group input:focus,
			.form-group textarea:focus {
				outline: none;
				border-color: #667eea;
				box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
			}

			.form-group textarea {
				resize: vertical;
				min-height: 100px;
			}

			.checkbox-group {
				display: flex;
				align-items: flex-start;
				gap: 12px;
				margin: 20px 0;
			}

			.checkbox-group input[type="checkbox"] {
				width: auto;
				margin-top: 4px;
			}

			.checkbox-group label {
				margin-bottom: 0;
				font-weight: normal;
				cursor: pointer;
			}

			.submit-btn {
				background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
				color: white;
				border: none;
				padding: 16px 32px;
				border-radius: 8px;
				font-size: 16px;
				font-weight: 600;
				cursor: pointer;
				transition: all 0.3s ease;
				width: 100%;
			}

			.submit-btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 8px 20px rgba(231, 76, 60, 0.3);
			}

			.submit-btn:disabled {
				background: #bdc3c7;
				cursor: not-allowed;
				transform: none;
				box-shadow: none;
			}

			.contact-info {
				background: #e8f5e8;
				border-radius: 12px;
				padding: 25px;
				margin: 30px 0;
			}

			.contact-info h3 {
				color: #27ae60;
				margin-bottom: 15px;
			}

			.contact-info p {
				margin-bottom: 10px;
			}

			.contact-info a {
				color: #27ae60;
				text-decoration: none;
				font-weight: 600;
			}

			.contact-info a:hover {
				text-decoration: underline;
			}

			.footer {
				background: #2c3e50;
				color: white;
				padding: 30px;
				text-align: center;
			}

			.footer p {
				margin-bottom: 10px;
			}

			.footer a {
				color: #3498db;
				text-decoration: none;
			}

			.footer a:hover {
				text-decoration: underline;
			}

			.success-message {
				background: #d4edda;
				border: 2px solid #28a745;
				border-radius: 12px;
				padding: 20px;
				margin: 20px 0;
				display: none;
			}

			.success-message h3 {
				color: #155724;
				margin-bottom: 10px;
			}

			.success-message p {
				color: #155724;
			}

			.error-message {
				background: #f8d7da;
				border: 2px solid #dc3545;
				border-radius: 12px;
				padding: 20px;
				margin: 20px 0;
				display: none;
			}

			.error-message h3 {
				color: #721c24;
				margin-bottom: 10px;
			}

			.error-message p {
				color: #721c24;
			}

			@media (max-width: 768px) {
				.container {
					margin: 10px;
					border-radius: 12px;
				}

				.header {
					padding: 30px 20px;
				}

				.logo {
					width: 50px;
					height: 50px;
				}

				.header h1 {
					font-size: 2rem;
				}

				.content {
					padding: 30px 20px;
				}

				.form-container {
					padding: 20px;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="header">
				<div class="logo-container">
					<img src="/logo.png" alt="RecipEase Logo" class="logo" />
					<h1>RecipEase</h1>
				</div>
				<p>Data Deletion Request</p>
			</div>

			<div class="content">
				<div class="section">
					<h2>
						<svg class="icon" viewBox="0 0 24 24">
							<path
								d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
							/>
						</svg>
						Account & Data Deletion
					</h2>
					<p>
						We respect your privacy and your right to control your personal
						data. You can request the complete deletion of your RecipEase
						account and all associated data through this page.
					</p>
				</div>

				<div class="data-list">
					<h3>üìã Data That Will Be Permanently Deleted:</h3>
					<ul>
						<li>Your account profile and personal information</li>
						<li>All recipes you've created or saved</li>
						<li>Your recipe collections and favorites</li>
						<li>Profile pictures and uploaded images</li>
						<li>App preferences and settings</li>
						<li>Usage analytics and activity data</li>
						<li>Any subscription or billing information</li>
						<li>Comments, ratings, and shared content</li>
					</ul>
				</div>

				<div class="warning-box">
					<h3>‚ö†Ô∏è Important Notice</h3>
					<p>
						<strong>This action cannot be undone.</strong> Once your data is
						deleted, it cannot be recovered. Please make sure you have saved any
						recipes or information you want to keep before proceeding.
					</p>
				</div>

				<div class="section">
					<h2>
						<svg class="icon" viewBox="0 0 24 24">
							<path
								d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"
							/>
						</svg>
						Request Data Deletion
					</h2>
					<p>
						Please fill out the form below to request deletion of your account
						and data. We will process your request within 30 days as required by
						applicable privacy laws.
					</p>
				</div>

				<div class="form-container">
					<form id="deletionForm">
						<div class="form-group">
							<label for="email">Email Address *</label>
							<input
								type="email"
								id="email"
								name="email"
								required
								placeholder="Enter the email associated with your RecipEase account"
							/>
						</div>

						<div class="form-group">
							<label for="reason">Reason for Deletion (Optional)</label>
							<textarea
								id="reason"
								name="reason"
								placeholder="Please let us know why you're deleting your account. This helps us improve our service."
							></textarea>
						</div>

						<div class="checkbox-group">
							<input type="checkbox" id="confirm" name="confirm" required />
							<label for="confirm"
								>I understand that this action is permanent and cannot be
								undone. I confirm that I want to delete my RecipEase account and
								all associated data.</label
							>
						</div>

						<button type="submit" class="submit-btn" id="submitBtn">
							üóëÔ∏è Submit Deletion Request
						</button>
					</form>

					<div class="success-message" id="successMessage">
						<h3>‚úÖ Request Submitted Successfully</h3>
						<p>
							Your data deletion request has been received. We will process your
							request within 30 days and send you a confirmation email once
							completed.
						</p>
					</div>

					<div class="error-message" id="errorMessage">
						<h3>‚ùå Error Submitting Request</h3>
						<p id="errorText">
							There was an error processing your request. Please try again or
							contact our support team.
						</p>
					</div>
				</div>

				<div class="contact-info">
					<h3>üìû Need Help?</h3>
					<p>
						If you have questions about data deletion or need assistance, please
						contact us:
					</p>
					<p>
						<strong>Email:</strong>
						<a href="mailto:privacy@recipease.kitchen"
							>privacy@recipease.kitchen</a
						>
					</p>
					<p>
						<strong>Support:</strong>
						<a href="mailto:support@recipease.kitchen"
							>support@recipease.kitchen</a
						>
					</p>
					<p>
						<strong>Response Time:</strong> We typically respond within 24-48
						hours
					</p>
				</div>
			</div>

			<div class="footer">
				<p>&copy; 2024 RecipEase. All rights reserved.</p>
				<p>
					<a href="/privacy-policy">Privacy Policy</a> |
					<a href="/terms-of-service">Terms of Service</a> |
					<a href="/contact">Contact Us</a>
				</p>
			</div>
		</div>

		<script>
			document
				.getElementById("deletionForm")
				.addEventListener("submit", async function (e) {
					e.preventDefault();

					const submitBtn = document.getElementById("submitBtn");
					const successMessage = document.getElementById("successMessage");
					const errorMessage = document.getElementById("errorMessage");
					const errorText = document.getElementById("errorText");

					// Hide previous messages
					successMessage.style.display = "none";
					errorMessage.style.display = "none";

					// Disable submit button and show loading
					submitBtn.disabled = true;
					submitBtn.innerHTML = "‚è≥ Processing Request...";

					try {
						const formData = new FormData(this);
						const data = {
							email: formData.get("email"),
							reason: formData.get("reason") || "",
							timestamp: new Date().toISOString(),
							userAgent: navigator.userAgent,
							source: "web_form",
						};

						const response = await fetch("/api/data-deletion-request", {
							method: "POST",
							headers: {
								"Content-Type": "application/json",
							},
							body: JSON.stringify(data),
						});

						const result = await response.json();

						if (response.ok && result.success) {
							successMessage.style.display = "block";
							this.reset();

							// Scroll to success message
							successMessage.scrollIntoView({ behavior: "smooth" });
						} else {
							throw new Error(result.message || "Failed to submit request");
						}
					} catch (error) {
						console.error("Error submitting deletion request:", error);
						errorText.textContent =
							error.message ||
							"There was an error processing your request. Please try again or contact our support team.";
						errorMessage.style.display = "block";

						// Scroll to error message
						errorMessage.scrollIntoView({ behavior: "smooth" });
					} finally {
						// Re-enable submit button
						submitBtn.disabled = false;
						submitBtn.innerHTML = "üóëÔ∏è Submit Deletion Request";
					}
				});

			// Email validation
			document.getElementById("email").addEventListener("input", function () {
				const email = this.value;
				const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

				if (email && !emailRegex.test(email)) {
					this.setCustomValidity("Please enter a valid email address");
				} else {
					this.setCustomValidity("");
				}
			});
		</script>
	</body>
</html>
